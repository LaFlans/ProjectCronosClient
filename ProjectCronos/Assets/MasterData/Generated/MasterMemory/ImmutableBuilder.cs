// <auto-generated />
#pragma warning disable CS0105
using MasterMemory.Validation;
using MasterMemory;
using MessagePack;
using System.Collections.Generic;
using System;
using Generated.Tables;

namespace Generated
{
   public sealed class ImmutableBuilder : ImmutableBuilderBase
   {
        MemoryDatabase memory;

        public ImmutableBuilder(MemoryDatabase memory)
        {
            this.memory = memory;
        }

        public MemoryDatabase Build()
        {
            return memory;
        }

        public void ReplaceAll(System.Collections.Generic.IList<Dictionary> data)
        {
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new DictionaryTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void RemoveDictionary(string[] keys)
        {
            var data = RemoveCore(memory.DictionaryTable.GetRawDataUnsafe(), keys, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new DictionaryTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void Diff(Dictionary[] addOrReplaceData)
        {
            var data = DiffCore(memory.DictionaryTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new DictionaryTable(newData);
            memory = new MemoryDatabase(
                table,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<EnemyData> data)
        {
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new EnemyDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                table,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void RemoveEnemyData(string[] keys)
        {
            var data = RemoveCore(memory.EnemyDataTable.GetRawDataUnsafe(), keys, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new EnemyDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                table,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void Diff(EnemyData[] addOrReplaceData)
        {
            var data = DiffCore(memory.EnemyDataTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new EnemyDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                table,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<PlayerData> data)
        {
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new PlayerDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                table,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void RemovePlayerData(string[] keys)
        {
            var data = RemoveCore(memory.PlayerDataTable.GetRawDataUnsafe(), keys, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new PlayerDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                table,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void Diff(PlayerData[] addOrReplaceData)
        {
            var data = DiffCore(memory.PlayerDataTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new PlayerDataTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                table,
                memory.SampleTable,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<Sample> data)
        {
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new SampleTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                table,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void RemoveSample(int[] keys)
        {
            var data = RemoveCore(memory.SampleTable.GetRawDataUnsafe(), keys, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new SampleTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                table,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void Diff(Sample[] addOrReplaceData)
        {
            var data = DiffCore(memory.SampleTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new SampleTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                table,
                memory.SoundTable,
                memory.TestTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<Sound> data)
        {
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new SoundTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                table,
                memory.TestTable
            
            );
        }

        public void RemoveSound(string[] keys)
        {
            var data = RemoveCore(memory.SoundTable.GetRawDataUnsafe(), keys, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new SoundTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                table,
                memory.TestTable
            
            );
        }

        public void Diff(Sound[] addOrReplaceData)
        {
            var data = DiffCore(memory.SoundTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Key, System.StringComparer.Ordinal);
            var newData = CloneAndSortBy(data, x => x.Key, System.StringComparer.Ordinal);
            var table = new SoundTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                table,
                memory.TestTable
            
            );
        }

        public void ReplaceAll(System.Collections.Generic.IList<Test> data)
        {
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new TestTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                table
            
            );
        }

        public void RemoveTest(int[] keys)
        {
            var data = RemoveCore(memory.TestTable.GetRawDataUnsafe(), keys, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new TestTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                table
            
            );
        }

        public void Diff(Test[] addOrReplaceData)
        {
            var data = DiffCore(memory.TestTable.GetRawDataUnsafe(), addOrReplaceData, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var newData = CloneAndSortBy(data, x => x.Id, System.Collections.Generic.Comparer<int>.Default);
            var table = new TestTable(newData);
            memory = new MemoryDatabase(
                memory.DictionaryTable,
                memory.EnemyDataTable,
                memory.PlayerDataTable,
                memory.SampleTable,
                memory.SoundTable,
                table
            
            );
        }

    }
}